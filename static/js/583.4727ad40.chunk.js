"use strict";(self.webpackChunksamuray_typescript=self.webpackChunksamuray_typescript||[]).push([[583],{1583:function(e,s,o){o.r(s),o.d(s,{default:function(){return re}});var a=o(1413),i=o(5671),t=o(3144),n=o(9340),l=o(5716),r=o(2791),u=o(5602),c=o(1357),d=o(7802),f=o(885),h="ProfileInfo_info__ba9+Z",m="ProfileInfo_info_edit__FUMoJ",_="ProfileInfo_box__fn5wh",x="ProfileInfo_aboutinfo__FEbBx",p="ProfileInfo_aboutinfo_status__79hYl",g="ProfileInfo_aboutinfo_edit__kNtQl",j="ProfileInfo_aboutinfo_edit_btn__gbQZo",b="ProfileInfo_about_check_label__HUzLa",v="ProfileInfo_subtitle__f-Rly",N="ProfileInfo_aboutinfo_value__LOxRr",P="ProfileInfo_aboutinfo_value_key__OhKxd",A="ProfileInfo_aboutinfo_value_box__d2EJw",k="ProfileInfo_about__Gb0wI",I="ProfileInfo_name__4FdHK",F="ProfileInfo_name_box__O9sFS",T="ProfileInfo_name_edit__V5rhJ",w="ProfileInfo_name_edit_box__jQxAP",M="ProfileInfo_load_img__zMMhL",y="ProfileInfo_profile_box_img__35M26",S="ProfileInfo_status_edit__XMfQg",Z="ProfileInfo_status_title__baf+G",D=o(4863),U=o(8532),C=o(5705),L=o(7196),O=o(4073),J=o(2309),V=o(1694),E=o.n(V),Y=o(184),G=function(e){var s=e.setEditMode,o=e.profile,a=(0,J.TL)();console.log("profile",o);var i=(0,C.TA)({initialValues:{fullName:"",lookingForAJob:!1,lookingForAJobDescription:"",aboutMe:"",userId:1,contacts:{github:"",vk:"",facebook:"",instagram:"",twitter:"",website:"",youtube:"",mainLink:""},photos:{small:d,large:d}},onSubmit:function(e){a((0,O.Ms)(e)),s(!1),i.resetForm()}});return(0,r.useEffect)((function(){i.setFieldValue("lookingForAJob",o.lookingForAJob),i.setFieldValue("lookingForAJobDescription",o.lookingForAJobDescription),i.setFieldValue("aboutMe",o.aboutMe),i.setFieldValue("fullName",o.fullName)}),[o]),(0,Y.jsxs)("form",{onSubmit:i.handleSubmit,children:[(0,Y.jsxs)("div",{className:T,children:[(0,Y.jsx)("div",{className:v,children:"Full name:"}),(0,Y.jsx)("div",{className:k,children:(0,Y.jsx)("input",{placeholder:"Full name",name:"fullName",onChange:i.handleChange,value:i.values.fullName})})]}),(0,Y.jsxs)("div",{className:g,children:[(0,Y.jsx)("div",{className:v,children:"Looking for a job:"}),(0,Y.jsx)("input",{id:"check",type:"checkbox",name:"lookingForAJob",onChange:i.handleChange,checked:i.values.lookingForAJob}),(0,Y.jsx)("label",{className:b,htmlFor:"check"})]}),(0,Y.jsxs)("div",{className:g,children:[(0,Y.jsx)("div",{className:v,children:"My professional skills:"}),(0,Y.jsx)("div",{className:k,children:(0,Y.jsx)("textarea",{placeholder:"My skills",name:"lookingForAJobDescription",onChange:i.handleChange,value:i.values.lookingForAJobDescription})})]}),(0,Y.jsxs)("div",{className:g,children:[(0,Y.jsx)("div",{className:v,children:"About me:"}),(0,Y.jsx)("div",{className:k,children:(0,Y.jsx)("textarea",{placeholder:"About me",name:"aboutMe",onChange:i.handleChange,value:i.values.aboutMe})})]}),(0,Y.jsxs)("div",{className:x,children:["Contacts:",(0,Y.jsx)("span",{className:k,children:Object.keys(i.values.contacts).map((function(e){return(0,Y.jsxs)("div",{className:E()(T),children:[(0,Y.jsxs)("span",{className:w,children:[e,":"]}),(0,L.Ru)(e,"contacts."+e,i.handleChange,"text")]},e)}))})]}),(0,Y.jsx)("div",{className:j,children:(0,Y.jsx)("button",{className:c.Z.message_btn,type:"submit",children:"save"})})]})},K=o(9885),Q=function(e){var s=(0,J.TL)(),o=(0,r.useState)(!1),a=(0,f.Z)(o,2),i=a[0],t=a[1],n=(0,r.useState)(e.status),l=(0,f.Z)(n,2),u=l[0],c=l[1];(0,r.useEffect)((function(){c(e.status)}),[e.status]);return(0,Y.jsxs)("div",{className:p,children:[(0,Y.jsx)("span",{className:Z,children:"Status:"}),!i&&(0,Y.jsx)("span",{className:k,onDoubleClick:function(){t(!0)},children:e.status||" --/---/--"}),i&&(0,Y.jsx)("div",{children:(0,Y.jsx)("input",{onChange:function(e){c(e.currentTarget.value)},autoFocus:!0,onBlur:function(){t(!1),s((0,O.Lj)(u)).then()},value:u,className:S})})]})},X=function(e){var s=e.profile,o=e.status,a=e.updateStatus,i=e.isOwner,t=(0,r.useState)(!1),n=(0,f.Z)(t,2),l=n[0],u=n[1],c=(0,J.TL)();if(!s)return(0,Y.jsx)(D.p,{});return(0,Y.jsxs)("div",{className:h,children:[(0,Y.jsxs)("div",{className:y,children:[(0,Y.jsx)("img",{src:s.photos.small||U,width:"180",height:"180",alt:"avatar"}),i&&(0,Y.jsx)("label",{className:M,children:(0,Y.jsx)("input",{type:"file",onChange:function(e){e.currentTarget.files&&c((0,O.Tw)(e.currentTarget.files[0])).then()}})})]}),(0,Y.jsxs)("div",{className:_,children:[(0,Y.jsx)(Q,{status:o,updateStatus:a}),l?(0,Y.jsx)(G,{setEditMode:u,profile:s}):(0,Y.jsx)(B,{profile:s,isOwner:i,goToEditMode:function(){return u(!0)}})]})]})},B=function(e){var s=e.profile,o=e.isOwner,a=e.goToEditMode;return(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsxs)("div",{children:[o&&(0,Y.jsx)("div",{children:(0,Y.jsx)("div",{onClick:a,className:m,children:(0,Y.jsx)("img",{src:K,alt:"edit"})})}),(0,Y.jsxs)("div",{className:F,children:["Full name:",(0,Y.jsx)("span",{className:I,children:s.fullName})]}),(0,Y.jsxs)("div",{className:x,children:["Looking for a job:",(0,Y.jsx)("span",{className:k,children:s.lookingForAJob?"yes":"no"})]}),s.lookingForAJob&&(0,Y.jsxs)("div",{className:x,children:["My professionak skills:",(0,Y.jsx)("span",{className:k,children:s.lookingForAJobDescription})]}),(0,Y.jsxs)("div",{className:x,children:["About me:",(0,Y.jsx)("span",{className:k,children:s.aboutMe})]}),(0,Y.jsxs)("div",{className:x,children:["Contacts:",(0,Y.jsx)("span",{children:Object.keys(s.contacts).map((function(e){return(0,Y.jsx)(H,{contactTitle:e,contactValue:s.contacts[e]},e)}))})]})]})})},H=function(e){var s=e.contactTitle,o=e.contactValue;return(0,Y.jsxs)("div",{className:A,children:[(0,Y.jsx)("div",{className:N,children:s}),(0,Y.jsx)("div",{className:P,children:o})]})},W="Post_item__S4TUf",q="Post_item_text__Mo597",z="Post_img__NcBeS",R="Post_like__45Jxh",$=o(2177),ee=function(){var e=(0,$.v9)((function(e){return e.profilePage.posts})).map((function(e){return(0,Y.jsxs)("li",{className:W,children:[(0,Y.jsx)("div",{children:(0,Y.jsx)("img",{className:z,src:e.img,width:"90",height:"90",alt:"avatar"})}),(0,Y.jsx)("p",{className:q,children:e.post}),(0,Y.jsxs)("span",{className:R,children:[" ",e.like]})]},e.id)}));return(0,Y.jsx)(Y.Fragment,{children:e})},se=o(3510),oe=function(e){var s=e.profile,o=e.status,a=e.updateStatus,i=e.isOwner;console.log("profile",s);var t=(0,J.TL)();return(0,Y.jsxs)("div",{className:u.Z.inner,children:[(0,Y.jsx)("img",{className:u.Z.img,src:d,height:"300",width:"100%",alt:"profile"}),(0,Y.jsx)(X,{isOwner:i,profile:s,status:o,updateStatus:a}),(0,Y.jsxs)("div",{className:u.Z.post,children:[(0,Y.jsx)("h3",{children:"My posts"}),(0,Y.jsx)(ae,{addPost:function(e){t((0,O.JF)(e))}})]}),(0,Y.jsx)("ul",{children:(0,Y.jsx)(ee,{})})]})},ae=function(e){var s=(0,C.TA)({validate:function(e){var s={};return e.newPostText||(s.newPostText="Please, write your post"),s},initialValues:{newPostText:""},onSubmit:function(o){e.addPost(o.newPostText),s.resetForm()}});return(0,Y.jsxs)("form",{onSubmit:s.handleSubmit,onKeyPress:function(e){"Enter"===e.key&&s.handleSubmit()},children:[(0,Y.jsx)("textarea",{className:c.Z.message_textarea,name:"newPostText",placeholder:"your news",onChange:s.handleChange,value:s.values.newPostText}),(0,Y.jsx)("div",{children:s.errors.newPostText?(0,Y.jsx)("div",{className:se.Z.errors,children:s.errors.newPostText}):null}),(0,Y.jsx)("div",{className:u.Z.btn_box,children:(0,Y.jsx)("button",{className:c.Z.message_btn,children:"Add Post"})})]})},ie=o(2932),te=o(7781),ne=o(8880),le=function(e){(0,n.Z)(o,e);var s=(0,l.Z)(o);function o(){return(0,i.Z)(this,o),s.apply(this,arguments)}return(0,t.Z)(o,[{key:"refreshProfile",value:function(){var e=this.props.router.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfileUserTC(e),this.props.getStatusUserTC(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,o){this.props.router.params.userId!==e.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,Y.jsx)(oe,(0,a.Z)((0,a.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatusUserTC}))}}]),o}(r.Component),re=(0,te.qC)((0,$.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getProfileUserTC:O.r2,getStatusUserTC:O.Fu,updateStatusUserTC:O.Lj}),ne.E,ie.D)(le)},2932:function(e,s,o){o.d(s,{D:function(){return c}});var a=o(1413),i=o(4925),t=(o(2791),o(6871)),n=o(2177),l=o(184),r=["isAuth"],u=function(e){return{isAuth:e.auth.isAuth}};function c(e){return(0,n.$j)(u)((function(s){var o=s.isAuth,n=(0,i.Z)(s,r);return o?(0,l.jsx)(e,(0,a.Z)({},n)):(0,l.jsx)(t.Fg,{to:"/login"})}))}},3510:function(e,s){s.Z={block_dialog:"Dialogs_block_dialog__gJoeA",dialog:"Dialogs_dialog__5yYdu",dialogs_inner:"Dialogs_dialogs_inner__-yvm9",dialogs_items:"Dialogs_dialogs_items__4QoYV",dialogs_img:"Dialogs_dialogs_img__JwBew",messages:"Dialogs_messages__uLekC",message:"Dialogs_message__pYQpE",title:"Dialogs_title__FVSn0",avatar:"Dialogs_avatar__Bvtoy",text:"Dialogs_text__igKmM",errors:"Dialogs_errors__BzIwx"}},5602:function(e,s){s.Z={inner:"Profile_inner__LoIqE",img:"Profile_img__F9KOQ",post:"Profile_post__7abb9",btn_box:"Profile_btn_box__CLdvs",form:"Profile_form__OTpkr"}},9885:function(e){e.exports="data:image/png;base64,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"},7802:function(e,s,o){e.exports=o.p+"static/media/profile.dd584c751150287e1964.jpg"}}]);
//# sourceMappingURL=583.4727ad40.chunk.js.map